# laravel-ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: laravel-ingress
  namespace: default # Or your specific namespace
  annotations:
    kubernetes.io/ingress.class: gce # Use Google Cloud's native Ingress controller
    # Optional: For GKE Managed Certificates (recommended for SSL)
    # You must create a ManagedCertificate resource separately and reference its name here.
    # networking.gke.io/managed-certificates: your-managed-certificate-name
    # Optional: If you reserved a static external IP address
    # kubernetes.io/ingress.global-static-ip-name: your-static-ip-name
spec:
  rules:
  - host: your-domain.com # Replace with your actual domain name
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: laravel-service # Name of your Kubernetes Service
            port:
              number: 80 # Port of your Kubernetes Service
  # Optional: TLS configuration for HTTPS
  # This section works with GKE Managed Certificates.
  # The secretName here is automatically created by the ManagedCertificate resource.
  # tls:
  # - secretName: your-managed-certificate-name # This should match the name of your ManagedCertificate resource
  #   hosts:
  #     - your-domain.com
